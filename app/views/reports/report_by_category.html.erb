<%= render 'chart' %>
<h1>Звіт за період: <%= params[:start_date] %> - <%= params[:end_date] %> </h1>
<br>
<h3>Операції в розрізі категорій</h3>

<div class="table_by_categories">
</div>

<div class="Chart_by_categories">
    <canvas id="myChart" width="600" height="400"></canvas>
    <script>
    const ctx = document.getElementById('myChart');
    const data = {
    labels: <%= raw @category_id %>,
    datasets: [{
        label: "Операція на суму",
        data: <%= @amount %>,
        backgroundColor: [
        'rgb(255, 99, 132)',
        'rgb(54, 162, 235)',
        'rgb(255, 205, 86)',
        'rgb(0, 255, 0)',
        'rgb(255, 51, 153)',
        'rgb(255, 128, 0)',
        'rgb(51, 51, 255)',
        'rgb(255, 255, 51)',
        'rgb(255, 51, 255)',
        'rgb(246, 20, 50)'
        ],
        hoverOffset: 10
    }]
    };;

    const config = {
    type: 'doughnut',
    data: data,
    options: {
        responsive: false
    }
    };

    const myChart = new Chart(ctx, config);
    </script>
</div>