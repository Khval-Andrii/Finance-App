<div>
  <%= render template: 'reports/index' %>
</div>

<div>
  <%= render 'chart' %>
  <h1>Звіт за період: <%= params[:start_date] %> - <%= params[:end_date] %> </h1>
  <canvas id="myChart" width="600" height="400"></canvas>
  <script>
  const ctx = document.getElementById('myChart');
  const data = {
  labels: <%= raw @dates %>,
  datasets: [{
    label: 'Витрати по дням',
    data: <%= @amounts %>,
    fill: false,
    borderColor: 'rgb(75, 192, 192)',
    tension: 0.1
    }]
  };

  const config = {
    type: 'line',
    data: data,
    options: {
      responsive: false
    }
  };
  const myChart = new Chart(ctx, config);
  </script>
</div>

<div class="table_by_datesS">
  <table>
    <thead>
      <tr>
        <th>Дата</th>
        <th>Сума</th>
      </tr>
    </thead>
    <tbody>
      <% @dates_and_amounts.each do |dates_item, amount_item| %>
      <tr>
        <td><%= dates_item.to_date %></td>
        <td><%= amount_item.round(2) %></td>
      </tr>
    </tbody>
    <% end %>
  </table>
</div>